# 带货视频助手 Chrome 扩展

## 功能说明
实时监测页面上的视频播放标签(video)，在视频上添加下载按钮，用户点击后可将视频下载到本地。

## Chrome Web Store 上架准备工作

### 1. 图标准备
请在 `icons` 文件夹中添加以下尺寸的图标文件：
- `icon16.png` (16x16 像素)
- `icon32.png` (32x32 像素)
- `icon48.png` (48x48 像素)
- `icon128.png` (128x128 像素)

图标要求：
- 格式：PNG
- 背景：透明或白色
- 内容：清晰、直观，与扩展功能相关
- 避免模糊或拉伸

### 2. 权限说明
当前扩展使用的权限：
- `activeTab`：访问当前活动标签页
- `downloads`：使用下载功能
- `host_permissions: [<all_urls>]`：监测所有网站的视频标签

这些权限是扩展功能所必需的，已在 manifest.json 中正确配置。

### 3. 内容政策和隐私政策

已创建以下政策文件，用于Chrome Web Store上架：
- [内容政策](content-policy.html)
- [隐私政策](privacy-policy.html)

### 4. 内容安全策略
扩展已符合 Chrome Web Store 的内容安全策略要求：
- 无内联 JavaScript 代码
- 无 eval() 函数
- 所有代码都在 content.js 文件中，符合 CSP 规范

## Chrome Web Store 上架步骤

### 1. 注册 Chrome 开发者账号
1. 访问 [Chrome Web Store 开发者仪表板](https://chrome.google.com/webstore/devconsole/)
2. 登录或注册 Google 账号
3. 支付一次性注册费用（约 5 美元）

### 2. 准备扩展包
1. 确保所有文件都已准备就绪：
   - manifest.json
   - content.js
   - icons/ 文件夹及所有图标文件
   - README.md（可选，但建议提供）
2. 将所有文件压缩为 ZIP 格式
   - 注意：不要将整个文件夹压缩，而是直接压缩文件夹内的所有文件
   - 确保 manifest.json 文件在 ZIP 包的根目录

### 3. 上传扩展包
1. 在开发者仪表板中点击「添加新项目」
2. 上传准备好的 ZIP 包
3. 等待扩展包验证

### 4. 填写扩展信息
1. **基本信息**：
   - 扩展名称：带货视频助手
   - 简短描述：实时监测页面视频并添加下载按钮
   - 详细描述：详细介绍扩展的功能、使用方法和注意事项
   - 版本号：1.0.0

2. **图片和视频**：
   - 上传扩展截图（至少 2 张，建议 4 张）
   - 上传扩展宣传视频（可选）

3. **分类和标签**：
   - 选择合适的分类（如：工具、生产力）
   - 添加相关标签（如：视频下载、视频助手）

4. **隐私政策**：
   - 提供隐私政策链接（如果扩展收集用户数据）
   - 本扩展不收集用户数据，可在隐私政策中说明

### 5. 发布扩展
1. 检查所有信息是否填写完整
2. 点击「发布」按钮
3. 等待 Google 审核
   - 审核时间通常为 1-3 个工作日
   - 审核通过后，扩展将在 Chrome Web Store 上线

## 注意事项

1. **内容政策**：确保扩展符合 [Chrome Web Store 内容政策](https://developer.chrome.com/webstore/program_policies)
2. **隐私政策**：如果扩展收集用户数据，必须提供清晰的隐私政策
3. **权限使用**：只请求扩展功能所必需的权限，避免请求不必要的权限
4. **更新维护**：定期更新扩展，修复 bug 和添加新功能
5. **用户反馈**：关注用户反馈，及时响应和处理

## 测试
使用 `test.html` 文件测试扩展功能，该文件包含了不同类型的视频标签：
- 静态视频标签
- 使用 source 标签的视频
- 动态加载的视频

## 技术说明

### 核心功能
1. **视频监测**：使用 MutationObserver 监测页面动态添加的视频标签
2. **下载按钮**：在视频上添加下载按钮，点击后触发下载
3. **视频下载**：支持多种视频源格式，处理 blob URL 等特殊情况
4. **兼容性**：支持大部分网站的视频下载

### 浏览器支持
- Chrome 88 及以上版本
- 支持 Manifest V3 扩展

## 联系方式
如有问题或建议，请通过以下方式联系：
- 邮箱：your-email@example.com
- GitHub：your-github-repo